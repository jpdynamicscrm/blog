---
title: MC901932 (Power Platform - "Http With Microsoft Entra ID (事前承認済み)" コネクタのセキュリティ更新プログラム)
date: 2024-10-30 11:30:00
tags:
  - Power Platform
  - Power Automate
  - Power Apps
---

# MC901932 (Power Platform - "Http With Microsoft Entra ID (事前承認済み)" コネクタのセキュリティ更新プログラム)

こんにちは、Power Platform サポートチームの網野です。  
2024 年 10 月 に MC901932 にて通知された内容について、お客様への影響および対応方法についてご案内いたします。

<!-- more -->

## MC901932 の内容
---

### 既存のコネクタの整理 

変更が展開される前

API のアクセス許可方式が異なる 2 種類のコネクタが存在ます。
* Http With Microsoft Entra ID (事前承認済み) / webcontents / マイクロソフトがアクセス許可
* Http With Microsoft Entra ID / webcontentsv2 / 管理者がアクセス許可


変更が展開された後

webcontents コネクタのアクセス許可を webcontentsv2 と同じ方式にし、webcontentsv2 コネクタを非推奨とします。※すでに非推奨かも？
* Http With Microsoft Entra ID / webcontents / 管理者がアクセス許可
* Http With Microsoft Entra ID (deprecated) / webcontentsv2 / 管理者がアクセス許可



### 機能変更の内容
 webcontent コネクタから API を実行する場合、管理者によるアクセス許可の承認を必要とする制御に変更しました。

この変更により管理者が利用できる API を必要最小限に制御することを可能とし、お客様環境におけるセキュリティとデータプライバシーを強化します。

* 変更前：管理者によるアプリのアクセス許可不要、マイクロソフトが事前に定めたAPIが実行できる

* 変更後：管理者によるアプリのアクセス許可が必要



### 影響範囲
2024 年 10 月 25 日以降に HTTP With Microsoft Entra ID コネクタ に対して作成された接続から、変更後の動作になります。

### 対応方法
1. <u>webcontent コネクタを利用している</u>  
     
     2024 年 10 月 25 日より前に作成済みの接続
     →　現時点では対応不要

     2024 年 10 月 25 日以降に作成した接続
     → PowerShell を利用して必要なアクセス許可をアプリに付与する
     * [コネクタがサインインしているユーザーの代わりに動作することを許可する](https://learn.microsoft.com/ja-jp/connectors/webcontentsv2/#%E3%82%B3%E3%83%8D%E3%82%AF%E3%82%BF%E3%81%8C%E3%82%B5%E3%82%A4%E3%83%B3%E3%82%A4%E3%83%B3%E3%81%97%E3%81%A6%E3%81%84%E3%82%8B%E3%83%A6%E3%83%BC%E3%82%B6%E3%83%BC%E3%81%AE%E4%BB%A3%E3%82%8F%E3%82%8A%E3%81%AB%E5%8B%95%E4%BD%9C%E3%81%99%E3%82%8B%E3%81%93%E3%81%A8%E3%82%92%E8%A8%B1%E5%8F%AF%E3%81%99%E3%82%8B)

1. <u>webcontentv2 コネクタを利用している</u>  
     非推奨となるため、webcontents コネクタへ変更してください。
     
     
### MC454715　メッセージ全文
<b>Power Platform - "Http With Microsoft Entra ID (事前承認済み)" コネクタのセキュリティ更新プログラム</b><br>

セキュリティを強化するための "Http With Microsoft Entra ID (preauthorized)" ("Webcontents" と呼ばれることもあります) コネクタの更新を発表します。この変更は 2024 年 10 月 25 日にロールアウトを開始し、2024 年 11 月 15 日に全世界でのロールアウトを完了します。この変更の一環として、アクセス許可がアタッチされていないファーストパーティアプリを使用する新しい接続タイプが追加されます。これは、セキュリティの露出を必要なものだけに制限することで、ベスト プラクティスが守られるようにするためです。この変更に伴い、コネクタの名前は "Http With Microsoft Entra ID" に更新され、名前から "(preauthorized)" が削除されます。

<b>これにはどのような影響がありますか?</b><br>

既存の接続は引き続き機能します。既存の接続を新しい接続タイプに移行する必要がある場合は、後日フォローアップします。

以下で推奨されるアクションを実行しない場合、2024 年 10 月 25 日以降に行われた新しい接続は失敗します。

<b>準備するには何をする必要がありますか?</b><br>
1. この リンクされた記事 に記載されている手順に従って、2024 年 10 月 25 日より前にコネクタで使用されている最初の部分のアプリに必要なアクセス許可を追加してください。 
1. "Http With Microsoft Entra ID" (WebcontentsV2 とも呼ばれます) コネクタに接続を追加してテストを実行し、すべてが正常に動作することを確認します。 

## よくあるご質問

### 既に利用しているのですが、影響はありますか。
今のところ、影響はありません。
しかしながら、今後機能の非推奨化等により影響が発生する可能性があります。
お客様の対応が発生する場合はメッセージセンター等で改めて通知いたします。

### webcontents コネクタを使っていますが、古い接続には影響が出ず、新しい接続にのみ影響が出るのはなぜですか

今回の機能変更が、接続の内部構造によるものだからです。
webcontens コネクタには 2024 年 10 月現在、既に以下の 2 種類の接続が存在します。

接続A：　APIのアクセス許可がマイクロソフトにより設定されている

接続B：　APIのアクセス許可をユーザーが設定する

機能が変更前の接続は、接続Ａ、機能変更後の接続は、接続Ｂとなります。
お客様の業務を止めないために、接続Ａはしばらくはそのまま利用することができます。
接続Ａの対応については検討を行っているため、お客様側での対応が必要となりましたら改めてメッセージセンターで通知を行います。

### 両方のコネクタをDLPポリシーでブロックしているのですが、影響ありますか。

ブロックしている場合は影響ありません。


### webcontents コネクタを使っていますが、2024/10/25以前に作成した接続は管理者のアクセス許可不要で今後も利用し続けられますか。
セキュリティの観点から管理者のアクセス許可を必要とする動作にしていく予定です。
接続Ａの対応については検討を行っているため、お客様側での対応が必要となりましたら改めてメッセージセンターで通知を行います。


### コネクタを新しく利用するときはどちらを使えばいいですか。
webcontents コネクタを利用してください。

### webcontentsv2 コネクタを利用しているフローやアプリを管理者が確認することはできますか。
はい、できます　→　方法


### 管理者によるAPIのアクセス許可とはなんですか

[ブログ](https://jpdynamicscrm.github.io/blog/powerautomate/Graph-API/#%E5%BF%85%E8%A6%81%E3%81%AA%E3%82%A2%E3%82%AF%E3%82%BB%E3%82%B9%E8%A8%B1%E5%8F%AF%E3%82%92%E7%A2%BA%E8%AA%8D%E3%81%99%E3%82%8B)を見てね。



---

